<section class="space-top">
  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-12 col-md-9 col-lg-9">
        <p class='messages'>
          <img src='assets/images/dot03.gif' alt="dot" class='dot'>
          <span class='messageName'>
            Account Setting
          </span>
        </p>
        <form [formGroup]='staffForm' (keyup.enter)="save()" class="form-group
          form-padding">
          <div class="row borderTop borderBottom rowPadding" *ngIf="id!==undefined&&id!==null">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              User ID:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              {{id}}
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Username:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="text" formControlName="username" class="form-control
                form-control-sm">
              <div *ngIf="f.username.invalid && (f.username.dirty ||
                f.username.touched)">
                <span class="error" *ngIf="f.username.errors.required">
                  UserName is required.
                </span>
              </div>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Email:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="text" formControlName="email" class="form-control
                form-control-sm">
              <div *ngIf="f.email.invalid && (f.email.dirty ||
                f.email.touched)">
                <span class="error" *ngIf="f.email.errors.required">
                  Email is required.
                </span>
              </div>
            </div>
          </div>

          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Phone number:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="text" formControlName="staffPhoneNumber" class="form-control
                form-control-sm">
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Name:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="text" formControlName="name" class="form-control
                form-control-sm">
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Status:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <select class="form-control form-control-sm" id="status" formControlName="status">
                <option *ngFor='let group of statusList' [value]="group.id">{{group.value}}</option>
              </select>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              New password:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" formGroupName="passwordForm">
              <input type="password" formControlName="password" class="form-control form-control-sm"
                [pattern]='regex'>
                <app-password-strength (passwordStrength)="passwordValid($event)" [passwordToCheck]="p.password.value"></app-password-strength>
              <div *ngIf="p.password.invalid && p.password.value && (p.password.dirty ||
                p.password.touched)">
                <span class="error" *ngIf="p.password.errors?.required">
                  Password is required.
                </span>
                <span class="error" *ngIf="p.password.errors?.required ||
                  p.password.errors?.minlength || p.password.errors?.maxlength">
                  Password Min length {{minLength}} and Max length {{maxLength}}
                </span>
                <span class="error" *ngIf="p.password.errors?.pattern">
                  Min {{charactersCount}} characters from {{pattern}} is required
                </span>
              </div>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              New password (repeat):
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6" formGroupName="passwordForm">
              <input type="password" formControlName="confirmPassword" class="form-control
                form-control-sm">
                <div *ngIf="p.confirmPassword.invalid && (p.confirmPassword.dirty ||
                p.confirmPassword.touched)">
                <span class="error" *ngIf="p.confirmPassword.errors?.required">
                  Password is required.
                </span>
                <span class="error" *ngIf="p.confirmPassword.errors?.mustMatch">
                  Password and repeat password must match
                </span>
              </div>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="checkbox" name="passwordNeedChange" formControlName="passwordNeedChange">
              <label class="checkbox">Password need to change</label>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Password strength level:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="text" formControlName="passwordStrengthLevel" class="show-value" disabled>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Password change date:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <p>{{changeMillisToDate(staffUserData?.passwordChangeDate)}}</p>
              <!-- <input type="text" formControlName="passwordChangeDate" class="form-control
                form-control-sm show-value" disabled> -->
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="checkbox" name="sendEmail" formControlName="sendEmail">
              <label class="checkbox">Send activation E-Mail</label>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Survey Version Setting
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <select class="form-control form-control-sm" id="surveyVersionSetting"
                formControlName="surveyVersionSetting">
                <!-- <option value="-1">Standard</option> -->
                <option *ngFor="let surveyVersion of
                  surveyVersionSettingList" [value]="surveyVersion.id">
                  {{surveyVersion.name}}</option>
              </select>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Comments:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <textarea class="form-control form-control-sm textarea_scroll" rows="3" name="comments" id="comments"
                formControlName="comments"></textarea>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <input type="checkbox" name="sendEmail" formControlName="accessToUserPassword">
              <label class="checkbox">Enable access to user passwords</label>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Customer View:
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <select class="form-control form-control-sm" id="customerViewConfigurationId"
                formControlName="customerViewConfigurationId" value='-1'>
                <option value=null>Standard</option>
                <option *ngFor="let viewConfiguration of
                  viewConfigurationList" [value]="viewConfiguration.viewConfigurationId">
                  {{viewConfiguration.configurationName}}</option>
              </select>
            </div>
          </div>
          <div class="row borderBottom rowPadding">
            <div class="col-xs-12 col-sm-4 col-md-4 col-lg-4">
              Customer rUI opening behavior: 
            </div>
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
              <select class="form-control form-control-sm" id="uiVersionBehavior"
                formControlName="uiVersionBehavior" value='-1'>
                <option *ngFor="let uiVersionBehavior of
                  uiVersionBehaviourList" [value]="uiVersionBehavior[1]">
                  {{uiVersionBehavior[0]}}</option>
              </select>
            </div>
          </div>
        </form>

        <p class='messages'>
          <img src='assets/images/dot03.gif' alt="dot" class='dot'>
          <span class='messageName'>User roles</span></p>
        <div class="row rowPadding form-group
          form-padding">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <app-table [keys]="keys" [checkbox]=true [data]="dataSource" [hideMasterCheckBox]="true"
              [totalElement]="rolesData.totalElements" (checkBoxChangeEvent)="roleCheckBoxChangeEvent($event)"
              id='roleCode' [selectionList]='roleSelectionList' [isHideAdd]="true"></app-table>
          </div>
        </div>

        <p class='messages'>
          <img src='assets/images/dot03.gif' alt="dot" class='dot'>
          <span class='messageName'>Topic groups</span></p>
        <div class="row rowPadding form-group
          form-padding">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <app-table [keys]="topicKeys" [isHideAdd]="true" [checkbox]=true [data]="topicDataSource" [hideMasterCheckBox]="true"
              (checkBoxChangeEvent)="topicCheckBoxChangeEvent($event)"  id='groupCode' [selectionList]='topicGroupSelectionList' [totalElement]="topicGroupData.totalElements">
            </app-table>
          </div>
        </div>

        <p class='messages'>
          <img src='assets/images/dot03.gif' alt="dot" class='dot'>
          <span class='messageName'>Event Types Restrictions</span></p>
        <div class="row rowPadding form-group
          form-padding">
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
            <app-table [keys]="customerEventTypeData.tableKey" [isHideAdd]="true" [checkbox]=true [data]="customerEventTypeData.content" [hideMasterCheckBox]="true"
              (checkBoxChangeEvent)="customerEventTypeChangeEvent($event)"  id='customerEventTypeId' [verticalScrollWidth]="350"
              [selectionList]='customerEventTypeData.selectedElements' [totalElement]="customerEventTypeData.totalElements">
            </app-table>
          </div>
        </div>

        <div class="row rowPadding paddingTop">
          <div class="col-sm-4 col-md-3 col-lg-6 col-xs-3">
            <button type="button" class="btn btn-primary mb-button" (click)="back()">Cancel</button>
          </div>
          <div class="col-xs-9 col-sm-8 col-md-9 col-lg-6">
          <div class="row">
          <!-- <div > -->
            <div class="col-sm-8 col-md-9 col-lg-8 col-xs-12" style="text-align: end;" *ngIf="id!==undefined&&id!==null">
              <input type="checkbox" [(ngModel)]="permanentDelete" >
                <label class="checkbox">Permanent delete</label>
                &nbsp;
                &nbsp;
              <button type="button" class="btn btn-primary mb-button" (click)="delete()"
                >Delete</button>
            </div>
          <!-- </div> -->
          <div class="col-md-12 col-xs-12 col-lg-12 col-md-12" [ngClass]="{'display-responsive col-sm-4 col-lg-4 col-md-3 ': id!==undefined&&id!==null}">
            <button type="button" class="btn btn-primary mb-button" (click)="save()" style=" float :right">Save</button>
          </div>
        </div>
        </div>
        </div>
      </div>
      <div class="col-md-3 .col-lg-3 col-sm-12">
        <app-sidebar></app-sidebar>
      </div>
    </div>
  </div>
</section>