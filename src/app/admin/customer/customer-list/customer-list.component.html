<section class="space-top">
    <div class="container-fluid">
        <div class="row">
            <div class="col-sm-12 col-md-9 col-lg-9 content" style='text-align:
                left;padding-left: 40px;
                padding-top: 5px;'>
                <p class="accurate">
                    Search Options (use "%" as wildcard in searches)</p>
                <hr class="hr_space">
                <form [formGroup]="searchForm" class="form-horizontal">
                    <div class="row form-row form-group">
                        <label class="control-label col-sm-4 col-md-2 col-lg-2">
                            <span class="start">Audit Id:</span>
                        </label>
                        <div class="col-sm-6 col-md-4 col-lg-4">
                            <input type="text" class="form-control
                                form-control-sm" id="auditId" formControlName="auditId">
                        </div>
                        <label class="control-label col-lg-2 col-md-2 col-sm-4">
                            <span class="start"> Customer Group:</span>
                        </label>
                        <div class="col-lg-4 col-md-4 col-sm-6">
                            <select class="form-control form-control-sm" id="customerGroup"
                                formControlName="customerGroup">
                                <option value="" selected="selected"></option>
                                <option *ngFor="let group of customerGroupList" [value]="group.customerGroupId">
                                    {{group.groupName}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row form-group">
                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start"> Customer name:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <input type="text" class="form-control
                                form-control-sm" id="customerName" formControlName="customerName">
                        </div>
                        <label class="control-label col-lg-2 col-md-2 col-sm-4">
                            <span class="start"> Customer Place:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <select class="form-control form-control-sm" id="customerPlace"
                                formControlName="customerPlace">
                                <option value="" selected="selected"></option>
                                <option value="ALAMEDA">SF East Bay</option>
                                <option value="ATHERTON">Atherton</option>
                                <option value="CENTRAL VALLEY">Central Valley</option>
                                <option value="CLAREMONT">Claremont</option>
                                <option value="LOS ALTOS">Los Altos</option>
                                <option value="LOS ALTOS HILLS">Los Altos Hills</option>
                                <option value="MONTE SERENO">Monte Sereno</option>
                                <option value="MOUNTAIN VIEW">Mountain View</option>
                                <option value="NORTHCV">North Central Valley</option>
                                <option value="OTHER">NorCal</option>
                                <option value="PORTOLA VALLEY">Portola Valley</option>
                                <option value="SF BAY AREA">SF Bay Area</option>
                                <option value="SOCAL">SoCal</option>
                                <option value="SUNNYVALE">Sunnyvale</option>
                                <option value="TST-US">Anytown USA</option>
                                <option value="VERMONT">Vermont</option>
                                <option value="WOODSIDE">Woodside</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row form-group">
                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start">Customer E-mail:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <input type="text" class="form-control
                                form-control-sm" id="customerEmail" formControlName="customerEmail">
                        </div>

                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start">Program:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <select class="form-control form-control-sm" id="program" formControlName="program">
                                <option value=""></option>
                                <option *ngFor="let programGroup of
                                    programGroupList" [value]="programGroup.programGroupId">
                                    {{programGroup.programName}}</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row form-group">
                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start">Customer View:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <select class="form-control form-control-sm" id="customerView"
                                formControlName="customerView" value='-1'>
                                <option value="-1">Standard</option>
                                <option *ngFor="let viewConfiguration of
                                    viewConfigurationList" [value]="viewConfiguration.viewConfigurationId">
                                    {{viewConfiguration.configurationName}}</option>
                            </select>
                        </div>

                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start">Status:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <select class="form-control form-control-sm" id="status" formControlName="status">
                                <option value=""></option>
                                <option value="0">Active (0)</option>
                                <option value="10">In registration (10)</option>
                                <option value="20">Bad utility credentials (20)</option>
                                <option value="50">In progress (50)</option>
                                <option value="80">Pending (80)</option>
                                <option value="85">PG&amp;E account pending (85)</option>
                                <option value="90">Blocked (90)</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row form-group">
                        <label class="control-label col-lg-2 col-md-2 col-sm-4">
                            <span class="start">Event/Alert Code:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <input type="text" class="form-control
                                form-control-sm" id="alertCode" formControlName="alertCode">
                        </div>

                        <label class="control-label col-lg-2 col-md-2 col-sm-4">
                            <span class="start">Credential Type:</span>

                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6" style="padding-right: 0%; padding-left: 0px;">
                            <div class="col-md-6 col-lg-6 col-sm-6">
                                <select class="form-control form-control-sm
                                    padded-control" id="credentialTypeCode" formControlName="credentialTypeCode">
                                    <option value="" selected="selected"></option>
                                    <option *ngFor="let credentialType of
                                        credentialTypeList" [value]="credentialType.credentialType">
                                        {{credentialType.credentialName}}
                                    </option>
                                </select>
                            </div>
                            <div class="col-md-6 col-lg-6 col-sm-6">
                                <input type="text" class="form-control
                                    form-control-sm" id="credentialSubscriptionId"
                                    formControlName="credentialSubscriptionId">
                            </div>
                        </div>
                    </div>
                    <div class="row form-row form-group">
                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start">Energy Coach:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <select class="form-control form-control-sm" formControlName="energyCoach">
                                <option value=""></option>
                                <option *ngFor="let coachUser of coachUserList" [value]="coachUser.userId">
                                    {{coachUser.name}}</option>
                            </select>
                        </div>
                        <label class="control-label col-md-2 col-lg-2 col-sm-4">
                            <span class="start">Credential Account:</span>
                        </label>
                        <div class="col-md-4 col-lg-4 col-sm-6">
                            <input type="text" class="form-control
                                form-control-sm" formControlName="credentialAccount">
                        </div>
                    </div>
                    <div class="form-row row">
                        <div class="col-sm-12" style="text-align:right;">
                            <button type="button" class="btn btn-primary"
                                (click)="findCustomer(undefined,true)">Show</button>
                        </div>
                    </div>
                </form>
                <div class="row">
                    <div class="col-sm-12">
                        <p class="Messages">
                            <img class="pointer" src="assets/images/dot03.gif" class="dot">Customers (Number of Records
                            =
                            {{this.CustomerData.totalElements}})
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <app-table [keys]="keys" [isPaginate]="true" [checkbox]=true [isSearch]="false"
                            [data]="dataSource" [totalElement]="CustomerData.totalElements"
                            (changePageEvent)="findCustomer($event,false)" (goToEditEvent)="goToEditCustomer($event)"
                            (imageEvent)='onImageClickEvent($event)' (addEvent)='addNewCustomer()' (handleLinkEvent)="handleLink($event)"
                            class="customerTable">
                        </app-table>

                    </div>
                </div>
                <form [formGroup]='fileUploadForm' *ngIf="customerView==-1">
                    <div class="row">
                        <div class='col-sm-7 col-xs-6' style="text-align:right">
                            <span>Upload file with new customers:</span>
                        </div>
                        <div class='col-sm-3 col-xs-6'>
                            <input type="file" class="custom-file-input" style='font-size: smaller;' name="customerFile"
                                id="customerFile" formControlName='customerFile'>
                        </div>
                        <div class='col-sm-2 col-xs-12' style='text-align: right;'>
                            <button type="submit" class="btn
                                btn-primary">Upload</button>
                        </div>
                    </div>
                </form>
                <div class="row" *ngIf="customerView!=-1">
                    <div class="col-sm-12">
                       <a (click)="exportToCSV()">Export to CSV</a>
                    </div>
                </div>
            </div>
            <div class="col-md-3 .col-lg-3 col-sm-12">
                <app-sidebar></app-sidebar>
            </div>
        </div>
    </div>
</section>